[toc]

### 1、单一职责原则（Single Responsibility Principle）

- 通俗而讲：**一个类只负责一项职责**
  - 职责扩散：因某种原因，职责P分化为粒度更细的职责P1和P2
  - 由职责扩散导致需要修改代码时，原则是：
    - 只有逻辑足够简单，才可以在代码级别上违反单一职责原则
    - 只有类中方法数量足够少，才可以在方法级别上违反单一职责原则
- 遵循单一职责原则的优点
  - 可以降低类的复杂度
  - 提高类的复杂度，提高系统的可维护性
  - 变更引起的风险降低

### 2、里氏替换原则（Liskov Substitution Principle）

**只要父类能出现的地方子类就可以出现，而且替换为子类还不产生任何错误或异常**

- 通俗而讲：子类可以扩展父类的功能，但不能改变父类原有的功能
  - 子类可以实现父类的抽象方法，但不能覆盖父类的非抽象方法
  - 子类可以增加自己特有的方法
  - 当子类重写父类的方法时，方法的前置条件（形参）要比父类方法的输入参数更宽松
  - 当子类实现父类的抽象方法时，方法的后置条件（返回值）要比父类更严格

### 3、依赖倒置原则（Dependence Inversion Principle）

高**层模块不应该依赖低层模块，二者都应该依赖其抽象；抽象不应该依赖细节；细节应该依赖抽象**

- 以抽象为基础搭建起来的框架要比以细节为基础搭建起来的架构要稳定的多
- 中心原则是面向接口编程
- 传递依赖关系有三种方式
  - 接口传递
  - 构造方法传递
  - setter方法传递
- 实际编程中：
  - 低层模块尽量都要有抽象类或是接口，或者两者都有
  - 变量的声明类型尽量是抽象类或接口
  - 使用继承时遵循里氏替换原则

### 4、接口隔离原则（Interface Segregation Principle）

**客户端不应该依赖它不需要的接口：一个类对另一个类的依赖应该建立在最小的接口上**

接口隔离原则：

- 建立单一接口，尽量细化接口，接口中的方法尽量少



单一职责原则与接口隔离原则区别

- 单一职责原则注重的是职责；而接口隔离原则则注重对接口依赖的隔离
- 单一职责原则主要是约束类，其次才是接口和方法，针对的是程序中的实现和细节；接口隔离原则主要是约束接口，主要针对抽象，针对程序整体框架的构建



采用接口隔离原则对接口进行约束的注意：

- 接口尽量小，但要有限度。如果接口过小，则胡造成接口数量过多，使设计复杂
- 为依赖接口的类制定服务，只暴露给调用的类它需要的方法，不需要的方法则隐藏起来。只有专注地为一个模块提供定制服务，才能建立最小的依赖关系
- 提高内聚，减少对外交互。使接口用最少的方法去完成最多的事情

### 5、迪米特法则（Law Of Demeter）

**一个对象应该与其他对象保持最少的了解（只与直接朋友通信）**

软件编程的总原则：低耦合，高内聚

直接朋友：

- 每个对象都会与其他对象有耦合关系，只要两个对象之间有耦合关系，我们就说这两个对象之间是朋友关系。耦合的方式有很多，依赖、关联、组合、聚合等。其中，称出现成员变量、方法参数、方法返回值中的类为**直接的朋友**，而出现在局部变量中的类则不是直接的朋友
- 陌生的类最好不要作为局部变量的形式出现在类的内部

迪米特法则初衷是降低类之间的耦合

### 6、开闭原则（Open Close Principe）

**一个软件实体如类、模块和函数应该对扩展开放，对修改关闭**



### 7、合成复用原则（Composite Reuse Principe）

（组合/聚合复用原则）

**要求软件在复用时，要尽量先使用组合或聚合等关联关系实现，其次再考虑使用继承关系来实现**

通常类的复用分为继承复用和合成复用两种，继承复用虽然有简单和易实现的优点，但它也存在以下缺点。

1. 继承复用破坏了类的封装性。因为继承会将父类的实现细节暴露给子类，父类对子类是透明的，所以这种复用又称为“白箱”复用。
2. 子类与父类的耦合度高。父类的实现的任何改变都会导致子类的实现发生变化，这不利于类的扩展与维护。
3. 它限制了复用的灵活性。从父类继承而来的实现是静态的，在编译时已经定义，所以在运行时不可能发生变化。


采用组合或聚合复用时，可以将已有对象纳入新对象中，使之成为新对象的一部分，新对象可以调用已有对象的功能，它有以下优点。

1. 它维持了类的封装性。因为成分对象的内部细节是新对象看不见的，所以这种复用又称为“黑箱”复用。
2. 新旧类之间的耦合度低。这种复用所需的依赖较少，新对象存取成分对象的唯一方法是通过成分对象的接口。
3. 复用的灵活性高。这种复用可以在运行时动态进行，新对象可以动态地引用与成分对象类型相同的对象。









> 单一职责原则告诉我们实现类要职责单一；
>
> 里氏替换原则告诉我们不要破坏继承体系；
>
> 依赖倒置原则告诉我们要面向接口编程；
>
> 接口隔离原则告诉我们在设计接口的时候要精简单一；
>
> 迪米特法则告诉我们要降低耦合;
>
> 而开闭原则是总纲，他告诉我们要对扩展开放，对修改关闭;
>
> 合成复用原则则是尽量使用组合或者聚合关系实现代码复用，少使用继承。



