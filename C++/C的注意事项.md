[toc]

### 1、函数参数的检查

- 写有参数的函数时，要==对传进来的所有用到的参数==进行合法性的判断
  - 如：对指针判断是否为空

### 2、对系统调用的返回进行判断

- 对==系统调用返回==的东西进行判断
  - 如：打开文件，对fopen返回的指针做判断

### 3、避免数组定义和使用不一致

- 使用数组时保证和数组定义最大容量一致
  - 对数组、变量、常量使用时多检查一下前后定义和使用

### 4、内存释放的注意

#### 1、new和delete，malloc和free一定要配对使用

- new和delete的操作有一下规则
  - ==配对使用==，有一个new，就应该有一个delete（C中对应为malloc和free）
  - 尽量在==同一层上使用==，不要new在函数中，而delete在函数外。最好在同一调用层上使用这两个函数
  - ==new==分配的内存一定要==初始化==。==delete==后的指针一定要设==置为NULL==

#### 2、释放结构体空间时，先进行结构体成员的空间释放

- 如：结构体中存在指针，在释放指向结构体的指针时，还要释放结构体指针成员指向的内存

#### 3、注意内存的释放顺序

- ==先释放成员，再释放自己==；如果释放顺序反了，会造成reset

### 5、尽量用“传引用”，而不用“传值”

- 函数参数传递时==尽量“传引用”而不用“传值”==
  - 由于POD类型的数据在传值时，存在临时对象的构造、复制、析构过程都需要消耗时间，但传值不会，因此穿引用有更好的效率
  - POD数据
    - 可以用`is_pod<T>::value`来判断

### 6、尽量避免出现野指针

- 代码中避免出现野指针
  - 野指针是指向一个已删除的对象或未申请访问受限内存区域的指针
  - 避免：初始化时置NULL、释放时置NULL

### 7、不要写难读懂的代码

### 8、宏命名要见名知意

### 9、不使用魔数

- 最好不要在程序中出现数字式的“硬编码”
  - 如：`for(int i = 0; i < 120; i++){}`

### 10、不留冗余代码

- 不要在程序中遗留永远走不到的冗余代码

### 11、注释

- 注释要准确、清晰、易懂
- 用英文写注释

### 12、LOG

- 必要的LOG要添加，并且使用统一的LOG打印方式
